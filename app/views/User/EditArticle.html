{{set . "title" "编辑文章"}}
{{template "header.html" .}}
{{template "navigate_bar.html" .}}

<div id="content">
  <div class="container"> 
    <div class="col-md-1"></div>
    <div class="col-md-10">  
      <form role="form" action="{{url "User.PostEditArticle"}}" method="POST">       
        <div class="form-group">
          <label class="col-sm-1 control-label text-success">标签</label>  
          <div class="col-sm-10 text-success"> 
           {{if eq .oldArticle.Tag "散文"}}       
            <label class="radio-inline">
              <input type="radio" name="newArticle.Tag" value="散文" checked> 散文
            </label>
            {{else}}
            <label class="radio-inline">
              <input type="radio" name="newArticle.Tag" value="散文" > 散文
            </label>
            {{end}}
  
            {{if eq .oldArticle.Tag "诗歌"}}
            <label class="radio-inline"> 
              <input type="radio" name="newArticle.Tag" value="诗歌" checked> 诗歌
            </label> 
            {{else}}
            <label class="radio-inline"> 
              <input type="radio" name="newArticle.Tag" value="诗歌"> 诗歌
            </label> 
            {{end}} 
  
            {{if eq .oldArticle.Tag "微小说"}}
            <label class="radio-inline"> 
              <input type="radio" name="newArticle.Tag" value="微小说" checked> 微小说
            </label>
            {{else}}
            <label class="radio-inline"> 
              <input type="radio" name="newArticle.Tag" value="微小说"> 微小说
            </label>
            {{end}}
          </div>            
        </div> 
        </br> </br> </br>   
  
        {{$articleid := .oldArticle.Id}}
        {{with $field := field "oldArticleId" .}} 
         <textarea class="form-control" id="{{$field.Id}}" name="{{$field.Name}}" value="{{$field.Flash}}" 
          rows="1" style="visibility:hidden; display:none;">{{$articleid}}</textarea> 
        {{end}} 
  
        {{$oldTitle := .oldArticle.Title}}
        {{with $field := field "newArticle.Title" .}} 
        <div class="input-group {{$field.ErrorClass}}">         
          <span class="input-group-addon">标题</span>      
          <textarea class="form-control" id="{{$field.Id}}" name="{{$field.Name}}" value="{{$field.Flash}}" rows="1" placeholder="标题" required>{{$oldTitle}}</textarea> 
          {{if $field.Error}} 
            <span class="help-inline">{{$field.Error}}</span> 
          {{end}}         
        </div> 
        {{end}} 
        <br>           
        
        {{$oldContent := .oldArticle.Content}}
        {{with $field := field "newArticle.Content" .}} 
        <div class="input-group {{$field.ErrorClass}}">         
          <span class="input-group-addon">内容</span>      
          <textarea class="form-control" id="{{$field.Id}}" name="{{$field.Name}}" value="{{$field.Flash}}" rows="20" placeholder="内容" required>{{$oldContent}}</textarea> 
          {{if $field.Error}} 
            <span class="help-inline">{{$field.Error}}</span> 
          {{end}}         
        </div> 
        {{end}} 
        <br>  
        <div class="input-group">                  
          <button type="submit" class="btn btn-primary" id="button_Form_Submit">提交</button> 
        </div>  
        <br>        
      </form> 
    </div>
    <div class="col-md-4"></div>
  </div> 
</div>

{{template "footer.html" .}}